# Домашнее задание к занятию 1. «Типы и структура СУБД»---## Задача 1Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:- электронные чеки в json-виде,- склады и автомобильные дороги для логистической компании,- генеалогические деревья,- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,- отношения клиент-покупка для интернет-магазина.Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.1. **Электронные чеки в json-виде:**   Рекомендация: Документоориентированная СУБД, такая как MongoDB.   Объяснение: Электронные чеки в JSON-формате имеют гибкую структуру, и документоориентированная СУБД позволяет легко хранить и индексировать такие данные. MongoDB обеспечивает хорошую поддержку для работы с JSON-документами.2. **Склады и автомобильные дороги для логистической компании:**   Рекомендация: Графовая СУБД, такая как Neo4j.   Объяснение: Графовые базы данных наилучшим образом подходят для моделирования и анализа связей между сущностями, такими как склады и дороги. Neo4j предоставляет мощные инструменты для работы с данными в виде графов.3. **Генеалогические деревья:**   Рекомендация: Реляционная СУБД, такая как PostgreSQL.   Объяснение: Реляционные базы данных хорошо подходят для хранения структурированных данных, таких как генеалогические деревья, которые могут быть представлены в виде таблиц с определенными связями между записями.4. **Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутентификации:**   Рекомендация: Ключ-значение (Key-Value) СУБД, такие как Redis.   Объяснение: Key-Value СУБД, такие как Redis, предоставляют быстрый доступ к данным и могут эффективно использоваться для хранения кэшированных данных, таких как идентификаторы клиентов с ограниченным временем жизни.5. **Отношения клиент-покупка для интернет-магазина:**   Рекомендация: Реляционная СУБД, такая как MySQL или PostgreSQL.   Объяснение: Реляционные базы данных хорошо подходят для хранения данных о связях между клиентами и их покупками в интернет-магазине. Они обеспечивают возможность установления сложных отношений между данными и эффективный поиск по ним.## Задача 2Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):- данные записываются на все узлы с задержкой до часа (асинхронная запись);- при сетевых сбоях система может разделиться на 2 раздельных кластера;- система может не прислать корректный ответ или сбросить соединение.Согласно PACELC-теореме как бы вы классифицировали эти реализации?Классификация согласно CAP-теореме для каждой реализации с объяснениями:1. Данные записываются на все узлы с задержкой до часа (асинхронная запись):	CAP - AP (availability + partition tolerance – consistency) — не гарантирует целостность данных, обеспечивая их доступность и устойчивость к разделению, например, как в распределённых веб-кешах и DNS.	Считается, что большинство NoSQL-СУБД относятся к этому классу систем, обеспечивая лишь некоторый уровень согласованности данных в конечном счёте (eventually consistent).	AP-система может быть представлена кластером из нескольких узлов, каждый из которых может принимать данные, но не обязуется в тот же момент распространять их на другие серверы.		PACELC - PA/EL: при разделении сети они отказываются от согласованности для большей доступности, а при нормальной работе отказываются от согласованности для более низкой задержки.    2. При сетевых сбоях система может разделиться на 2 раздельных кластера:	CAP - CA (availability + consistency – partition tolerance) — когда данные во всех узлах кластера согласованы и доступны, но неустойчивы к разделению.	Это означает, что реплики одной и той же информации, распределённые по разным серверам по отношению друг к другу, не противоречат друг другу и любой запрос к распределённой системе завершается корректным откликом.	Такие системы возможны при поддержке ACID-требований к транзакциям (атомарность, согласованность, изоляция, долговечность) и абсолютной надёжности сети. На практике таких решений на основе кластерных систем управления базами данных почти не существует.		PACELC - PA/EL: при разделении сети они отказываются от согласованности для большей доступности, а при нормальной работе отказываются от согласованности для более низкой задержки.3. Система может не прислать корректный ответ или сбросить соединение:	CAP - CP (consistency + partition tolerance – availability) в каждый момент обеспечивает целостность данных и способна работать в условиях распада в ущерб доступности, не выдавая отклик на запрос.	Устойчивость к разделению требует дублирования изменений во всех узлах системы, что реализуется с помощью распределённых пессимистических блокировок для сохранения целостности.	По сути, CP — это система с несколькими синхронно обновляемыми мастер-базами. Она всегда корректна, так как отрабатывает транзакцию, только если изменения удалось распространить по всем серверам.		PACELC - PC/EC: полностью ACID-системы, они не отказываются от согласованности и будут согласны платить доступностью и задержками, чтобы добиться этого.   ## Задача 3Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?1. Не могут, принципы противоположны друг другу и представляют собой разные подходы к обработке данных в распределенных системах. Хотя конечно в теории можно допустить пересечение, что усложнит архитектуру решения.## Задача 4Вам дали задачу написать системное решение, основой которого бы послужили:- фиксация некоторых значений с временем жизни,- реакция на истечение таймаута.Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?1. Система, описанная в задаче, напоминает Redis с механизмом Pub/Sub. Минусы Redis включают ограниченный объем оперативной памяти, отсутствие постоянного хранения данных, сингл-поток и отсутствие сложных запросов.---