# Домашнее задание к занятию 1.  «Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения»---## Задача 1Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС (Контейнеры).Главное отличие в степени изоляции между ВМ и хостом, а также в аппартаных требованиях.Полная (аппаратная) виртуализация: Используется гипервизор, который эмулирует аппаратное обеспечение, каждая ВМ работает как отдельная система со своей ОС. Примеры - VMware ESXi, Microsoft Hyper-V, Linux KVM.Паравиртуализация: Гостевые ОС требуют установки специалтных драйверов, для работы с гипервизором и взаимодействия с ресурсами хоста. Примеры - Xen, Citrix XenServer.Контейнеры: Виртуализация на уровне ОС хоста, отдельного гипервизора нет. Прообразом были изолированные окружения типа chroot или jail. Одна ОС содержит множество контейнеров, каждый из которых предствлен изолированным окружением со своим набором софта, но использует общие ресурсы ядра ОС. Примеры - Docker, LXC, Solaris Container. ## Задача 2Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.Организация серверов:- физические сервера,- паравиртуализация,- виртуализация уровня ОС.Условия использования:- высоконагруженная база данных, чувствительная к отказу;	физические сервера будут лучше, в данном случае прослойка в виде виртуализации при высоких нагрузка может сыграть плохую роль, да и ресурсы всего сервера вероятно целиком уйдут под СУБД.- различные web-приложения;	удачный выбор контейнеризация, учитывая возможности оркестрации и масштабирования в заивисмости от нагрузки- Windows-системы для использования бухгалтерским отделом;	здесь подойдут ВМ с паравиртуализацией.- системы, выполняющие высокопроизводительные расчёты на GPU.	Если это машины набитые Nvidia A100 например, то лучше вариант с физическими серверами.## Задача 3Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.Сценарии:1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.	Т.к. нет требования бесплатности, развернул бы небольшую инфраструктуру на базе продуктов Vmware, кроме гипервизора ESXi потребуется развернуть vCenter и сопутствующие продукты, но в целом выйдет довольно дорого. Второй подходящий вариант Nutanix, все требуемые задачи там решаются из коробки, вплоть до сценарием DR между кластерами, без необходиомсти установки целого стека ПО, как у Vmware.	2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.	Возможно подойдет что-то на базе KVM, например oVirt или Proxmox.	3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.	Я бы наверно рассмотрел Hyper-V, лучшей поддержки Winows сложно найти, но насчет его бесплатности есть сомнения. 	Хотя если инфра уже на Windows лицензии скорее всего уже есть.4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.	Если это ПО не зависит от железа, версий ядра, его модулей и т.п., 	лучшим выбором будет система на базе docker, podman или т.п. продукты, в пределах одного хоста, легко можно получитьразличные окружения и версии ПО. Например в соседних контейнерах может выполняться разные весрии одного приложения, в окружении ubuntu или centos, или использовать разные версии python, java и т.п. без конфликтов внутри родительской ОС. ## Задача 4Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.	Основные проблемы содержания такого зоопарка:  	иногда расширенный штат специалистов (или наоборот небольшой, но с уникальным набором навыков), 	оплата лицензий/поддержки если таковые есть, платим много раз за подобный функционал,	процедура обновления и поддержания актуальных версий.	В целом любая инфраструктура относительно крупной компании будет гетерогенной. 	Например кроме классических ВМ, сейчас все больше приложений переносят в кубернетес, а он может работать не только в облаках или на местных ВМ, но и на аппаратных серверах тоже. Встречал такие варианты внедрений RH OpenShift к примеру.	Также могут возникать специфические требования вендором, видел пример использования Oracle VM x86, т.к. именно этот продукт признавался Oracle в случае выделения лицензируемых ядер одной ВМ. Надо было строго 2 ядра и цена за каждое несколько миллионов, в данном случае дешевле применить экзотическуб виртуализацию.